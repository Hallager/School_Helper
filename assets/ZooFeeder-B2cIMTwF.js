import{_ as oe,r as w,v as A,o as se,b as r,e as t,d as j,t as c,k as G,h as y,l as ne,F as x,f as z,u as ae,m as le,x as ie,j as d}from"./index-BxUdpvOu.js";const re=[{id:"id_0_taler_pÃ¥_dansk",tekst:"Taler pÃ¥ dansk",start:0,slut:.985},{id:"id_1_prÃ¸v_igen",tekst:"PrÃ¸v igen!",start:2.436,slut:2.991},{id:"id_2_nÃ¦sten",tekst:"NÃ¦sten!",start:4.461,slut:5.171},{id:"id_3_flot",tekst:"Flot!",start:6.591,slut:7.075},{id:"id_4_rigtigt",tekst:"Rigtigt!",start:8.507,slut:9.017},{id:"id_5_godt_klaret",tekst:"Godt klaret!",start:10.328,slut:11.105},{id:"id_6_tjek_planen",tekst:"Tjek planen!",start:12.523,slut:13.553},{id:"id_7_fodr_lÃ¸verne",tekst:"Fodr lÃ¸verne!",start:15.023,slut:15.913},{id:"id_8_fodr_aberne",tekst:"Fodr aberne!",start:17.386,slut:18.285},{id:"id_9_fodr_elefanterne",tekst:"Fodr elefanterne!",start:19.769,slut:21.3},{id:"id_10_fodr_pingvinerne",tekst:"Fodr pingvinerne!",start:22.45,slut:23.94},{id:"id_11_fodr_pandaerne",tekst:"Fodr Pandaerne!",start:24.3,slut:25.64},{id:"id_12_fodr_girafferne",tekst:"Fodr Giraferne!",start:25.8,slut:27},{id:"id_13_fodr_kaninerne",tekst:"Fodr Kaninerne!",start:27.2,slut:28.5}],de=""+new URL("zoo_voice-D-RBB-1q.mp3",import.meta.url).href,ce={class:"zoo-container"},ue={class:"header"},ve={class:"header-stats"},fe={class:"round-indicator"},ke={class:"score"},_e={class:"main-game-area"},pe={class:"zoo-landscape"},me=["title"],ge={key:0,class:"bored-icon"},be={key:0,class:"task-indicator"},he={class:"animal-emoji"},ye={class:"label"},we={class:"bowls"},De={class:"items-in-bowl",title:"Klik for at fjerne mad"},Ce=["onClick"],je={key:0,class:"water-emoji"},Fe={key:1,class:"loading-zoo"},Me={class:"feeding-plan-container"},Te={class:"clipboard"},xe={class:"plan-table"},Re={class:"quantity-cell"},Ae={key:0},ze={key:1},Ve={key:2},Se={class:"event-cards"},$e={class:"card-animal"},Oe={class:"card-icon"},Be={class:"card-text"},Ee={class:"kitchen-area"},Ge={class:"kitchen-groups"},Ke={class:"kitchen-group"},Le={class:"kitchen-shelf"},Ne=["onDragstart"],Pe={class:"food-emoji"},Ze={key:0,class:"kitchen-group"},qe={class:"kitchen-shelf"},He=["onDragstart"],Ue={class:"food-emoji"},Je={class:"kitchen-group"},We={class:"kitchen-shelf"},Xe={class:"kitchen-actions"},Ie=["disabled"],Qe={class:"shop-modal"},Ye={class:"shop-header"},et={class:"shop-grid"},tt={class:"toy-icon"},ot={class:"toy-name"},st={class:"toy-price"},nt=["onClick","disabled"],at={class:"feedback-content"},lt={class:"feedback-emoji"},it={class:"feedback-text"},rt={key:2,class:"win-overlay-zoo"},dt={class:"win-content"},ct={class:"final-score"},H=10,ut={__name:"ZooFeeder",setup(vt){const{sfx:p,initAudio:q}=ae();ie();let F=null;const K=s=>{F||(F=new Audio(de));const e=re.find(n=>n.id===s);if(!e)return;F.pause(),F.currentTime=e.start,F.play();const i=(e.slut-e.start)*1e3;setTimeout(()=>{Math.abs(F.currentTime-e.slut)<.5&&F.pause()},i+100)},U={lion:"id_7_fodr_lÃ¸verne",monkey:"id_8_fodr_aberne",elephant:"id_9_fodr_elefanterne",penguin:"id_10_fodr_pingvinerne",panda:"id_11_fodr_pandaerne",giraffe:"id_12_fodr_girafferne",rabbit:"id_13_fodr_kaninerne"},g={lion:{name:"LÃ¸ve",icon:"ğŸ¦",food:"meat",foodIcon:"ğŸ¥©",maxCount:2},monkey:{name:"Abe",icon:"ğŸµ",food:"banana",foodIcon:"ğŸŒ",maxCount:2},elephant:{name:"Elefant",icon:"ğŸ˜",food:"hay",foodIcon:"ğŸ¥œ",maxCount:2},penguin:{name:"Pingvin",icon:"ğŸ§",food:"fish",foodIcon:"ğŸŸ",maxCount:2},panda:{name:"Panda",icon:"ğŸ¼",food:"bamboo",foodIcon:"ğŸ‹",maxCount:2},giraffe:{name:"Giraf",icon:"ğŸ¦’",food:"leaves",foodIcon:"ğŸŒ¿",maxCount:2},rabbit:{name:"Kanin",icon:"ğŸ°",food:"carrot",foodIcon:"ğŸ¥•",maxCount:2}},L=[{id:"meat",icon:"ğŸ¥©"},{id:"banana",icon:"ğŸŒ"},{id:"hay",icon:"ğŸ¥œ"},{id:"fish",icon:"ğŸŸ"},{id:"bamboo",icon:"ğŸ‹"},{id:"leaves",icon:"ğŸŒ¿"},{id:"carrot",icon:"ğŸ¥•"}],J=s=>{const e=L.find(i=>i.id===s);return e?e.icon:"â“"},W=[{id:"ball",name:"Bold",icon:"âš½",price:3,boredomReduction:40},{id:"rope",name:"Reb",icon:"ğŸ§¶",price:5,boredomReduction:60},{id:"trampoline",name:"Trampolin",icon:"ğŸ•´ï¸",price:10,boredomReduction:100},{id:"tire",name:"DÃ¦k",icon:"ğŸ›",price:4,boredomReduction:50}],m=w(0),N=w(!1),R=w(!1),$=w(!1),M=A([]),a=w(null),b=A({}),O=w(0),B=w(!1),v=A({}),u=A({});Object.keys(g).forEach(s=>{v[s]=0,u[s]={food:[],water:!1,taskDone:!1}});const T=A({}),f=A({}),D=w(null),E=w(null),P=()=>{N.value=!0,Object.keys(v).forEach(n=>{v[n]=Math.min(100,v[n]+Math.floor(Math.random()*15)+5)}),Object.keys(u).forEach(n=>{u[n].food=[],u[n].water=!1,u[n].taskDone=!1,f[n]="idle",T[n]={},v[n]>60&&(f[n]="bored")}),D.value=null,E.value=null;const s=Object.keys(g),e=a.value;let i;if(e&&s.length>1){const n=s.filter(k=>k!==e);i=n[Math.floor(Math.random()*n.length)]}else i=s[Math.floor(Math.random()*s.length)];a.value=i,Object.keys(g).forEach(n=>{let k="none";if(n===a.value){const o=["none","clean","medicine"];k=o[Math.floor(Math.random()*o.length)]}b[n]={count:Math.floor(Math.random()*g[n].maxCount)+1,water:Math.random()>.4,task:k},b[n].task==="medicine"?f[n]="sick":n===a.value?f[n]="hungry":v[n]>60?f[n]="bored":f[n]="idle"}),setTimeout(()=>{N.value=!1,a.value&&K(U[a.value])},2e3)},V=(s,e,i=null)=>{s.dataTransfer.setData("type",e),i!==null&&s.dataTransfer.setData("index",i)},X=s=>{m.value>=s.price&&(m.value-=s.price,M.push({...s}),p.select())},Z=(s,e,i)=>{const n=s.dataTransfer.getData("type"),k=s.dataTransfer.getData("index");if(q(),n==="toy"&&k!==null){const o=M[parseInt(k)];v[e]=Math.max(0,v[e]-o.boredomReduction),M.splice(parseInt(k),1),p.win(),v[e]<=60&&f[e]==="bored"?f[e]=e===a.value?"hungry":"idle":(f[e]="happy",setTimeout(()=>{f[e]=e===a.value?"hungry":"idle"},2e3));return}if(n==="broom"||n==="medicine"){const o=b[e].task;if(u[e].taskDone)return;if(n==="broom"&&o==="clean"){u[e].taskDone=!0,m.value++,p.select();return}else if(n==="medicine"&&o==="medicine"){u[e].taskDone=!0,m.value++,f[e]=e===a.value?"hungry":"idle",p.click();return}}if(i==="food"){if(!L.map(l=>l.id).includes(n))return;u[e].food.length<10&&(u[e].food.push(n),p.select())}else i==="water"&&n==="water_bucket"&&(u[e].water=!0,p.click())},I=(s,e)=>{u[s].food.splice(e,1),p.select()},Q=s=>{u[s].water&&(u[s].water=!1,p.click())},Y=async()=>{if(R.value)return;R.value=!0,q();const s=a.value,e=b[s],i=g[s],n=u[s],k=n.food.filter(_=>_===i.food).length,o=n.food.every(_=>_===i.food),l=k===e.count,C=n.water===e.water,S=e.task==="none"||n.taskDone;if(T[s]={food:l&&o,water:C,task:S},T[s].food&&T[s].water&&T[s].task){m.value+=5,f[s]="happy",p.correct();const _=["id_3_flot","id_4_rigtigt","id_5_godt_klaret"];if(K(_[Math.floor(Math.random()*_.length)]),O.value++,O.value>=H){const{saveGameResult:h}=le();h("Zoo Fodring",m.value),setTimeout(()=>{B.value=!0,p.win()},1500)}D.value={type:"success",emoji:"â¤ï¸",message:"Flot! "+i.name+" er mÃ¦t!"},B.value||setTimeout(()=>{P(),R.value=!1},3e3)}else{f[s]="confused",E.value=s,p.wrong();const _=["id_1_prÃ¸v_igen","id_2_nÃ¦sten","id_6_tjek_planen"];K(_[Math.floor(Math.random()*_.length)]);let h="Hov! Tjek planen igen.";l||(h="Forkert antal! Se tabellen."),!o&&n.food.length>0&&(h=i.name+" spiser ikke det!"),C||(h=e.water?i.name+" er tÃ¸rstig!":i.name+" skal ikke have vand."),S||(h=e.task==="clean"?"Der skal gÃ¸res rent!":"Dyret har brug for medicin!"),D.value={type:"error",emoji:"ğŸ¤”",message:h},setTimeout(()=>{D.value=null,f[s]="hungry",E.value=null,R.value=!1},3e3)}},ee=s=>f[s]||"idle",te=()=>{m.value=0,O.value=0,B.value=!1,M.splice(0,M.length),Object.keys(v).forEach(s=>v[s]=0),P()};return se(()=>{P()}),(s,e)=>{var i,n,k;return d(),r("div",ce,[t("div",ue,[t("button",{class:"icon-btn",onClick:e[0]||(e[0]=o=>s.$router.push("/"))},"âŒ"),e[15]||(e[15]=t("h1",{class:"game-title"},"ğŸ¦ Zoo Fodring ğŸ",-1)),t("div",ve,[t("div",fe,"Runde: "+c(O.value)+" / "+c(H),1),t("div",ke,"â­ "+c(m.value),1)])]),t("div",_e,[t("div",pe,[a.value&&g[a.value]?(d(),r("div",{key:0,class:y(["enclosure",a.value,{active:!0,"highlight-error":E.value===a.value}]),onDragover:e[6]||(e[6]=G(()=>{},["prevent"])),onDrop:e[7]||(e[7]=o=>Z(o,a.value,"enclosure"))},[t("div",{class:"boredom-container",title:"Kedsomhed: "+v[a.value]+"%"},[t("div",{class:y(["boredom-bar",{high:v[a.value]>60}]),style:ne({width:v[a.value]+"%"})},null,6),v[a.value]>60?(d(),r("span",ge,"ğŸ¥±")):j("",!0)],8,me),((i=b[a.value])==null?void 0:i.task)==="clean"&&!u[a.value].taskDone?(d(),r("div",be,"ğŸ’©")):j("",!0),t("div",{class:y(["animal-bubble",ee(a.value)])},[t("span",he,c(g[a.value].icon),1)],2),t("div",ye,c(g[a.value].name),1),t("div",we,[t("div",{class:"bowl-wrapper",onDragover:e[1]||(e[1]=G(()=>{},["prevent"])),onDrop:e[2]||(e[2]=o=>Z(o,a.value,"food"))},[t("div",{class:y(["bowl food-bowl",{correct:(n=T[a.value])==null?void 0:n.food}])},[t("div",De,[(d(!0),r(x,null,z(u[a.value].food,(o,l)=>(d(),r("span",{key:l,onClick:C=>I(a.value,l),class:"item-in-bowl"},c(J(o)),9,Ce))),128))])],2),e[16]||(e[16]=t("div",{class:"bowl-label"},"Mad",-1))],32),t("div",{class:"bowl-wrapper",onDragover:e[4]||(e[4]=G(()=>{},["prevent"])),onDrop:e[5]||(e[5]=o=>Z(o,a.value,"water"))},[t("div",{class:y(["bowl water-bowl",{filled:u[a.value].water,correct:(k=T[a.value])==null?void 0:k.water}]),onClick:e[3]||(e[3]=o=>Q(a.value)),title:"Klik for at tÃ¸mme vand"},[u[a.value].water?(d(),r("span",je,"ğŸ’§")):j("",!0)],2),e[17]||(e[17]=t("div",{class:"bowl-label"},"Vand",-1))],32)])],34)):(d(),r("div",Fe,"Henter nÃ¦ste dyr..."))]),t("div",Me,[t("div",Te,[e[19]||(e[19]=t("h2",{class:"plan-title"},"ğŸ“‹ Fodringsplan",-1)),t("table",xe,[e[18]||(e[18]=t("thead",null,[t("tr",null,[t("th",null,"Dyr"),t("th",null,"Type"),t("th",null,"Antal"),t("th",null,"Vand?"),t("th",null,"Opgave")])],-1)),t("tbody",null,[(d(),r(x,null,z(g,(o,l)=>{var C,S,_,h;return t("tr",{key:l,class:y({highlight:a.value===l})},[t("td",null,c(o.icon),1),t("td",null,c(o.foodIcon),1),t("td",Re,c(((C=b[l])==null?void 0:C.count)||"?"),1),t("td",null,c((S=b[l])!=null&&S.water?"ğŸ’§ Ja":"ğŸš« Nej"),1),t("td",null,[((_=b[l])==null?void 0:_.task)==="clean"?(d(),r("span",Ae,"ğŸ§¹")):((h=b[l])==null?void 0:h.task)==="medicine"?(d(),r("span",ze,"ğŸ’Š")):(d(),r("span",Ve,"âœ…"))])],2)}),64))])]),t("div",Se,[(d(!0),r(x,null,z(b,(o,l)=>(d(),r(x,{key:"card-"+l},[o.task!=="none"&&!u[l].taskDone?(d(),r("div",{key:0,class:y(["event-card",o.task])},[t("div",$e,c(g[l].icon),1),t("div",Oe,c(o.task==="clean"?"ğŸ§¹":"ğŸ’Š"),1),t("div",Be,c(o.task==="clean"?"GÃ¸r rent!":"Giv medicin!"),1)],2)):j("",!0)],64))),128))])])])]),t("div",Ee,[t("div",{class:y(["truck",{"truck-animate":N.value}])},[...e[20]||(e[20]=[t("div",{class:"truck-body"},"ğŸšš",-1)])],2),t("div",Ge,[t("div",Ke,[e[22]||(e[22]=t("div",{class:"group-label"},"Mad & Vand",-1)),t("div",Le,[(d(),r(x,null,z(L,o=>t("div",{key:o.id,class:"food-item draggable",draggable:"true",onDragstart:l=>V(l,o.id)},[t("span",Pe,c(o.icon),1)],40,Ne)),64)),t("div",{class:"food-item draggable water-bucket",draggable:"true",onDragstart:e[8]||(e[8]=o=>V(o,"water_bucket"))},[...e[21]||(e[21]=[t("span",{class:"food-emoji"},"ğŸª£",-1)])],32)])]),M.length>0?(d(),r("div",Ze,[e[23]||(e[23]=t("div",{class:"group-label"},"LegetÃ¸j",-1)),t("div",qe,[(d(!0),r(x,null,z(M,(o,l)=>(d(),r("div",{key:"inv-"+l,class:"food-item draggable toy-item",draggable:"true",onDragstart:C=>V(C,"toy",l)},[t("span",Ue,c(o.icon),1)],40,He))),128))])])):j("",!0),t("div",Je,[e[26]||(e[26]=t("div",{class:"group-label"},"VÃ¦rktÃ¸j",-1)),t("div",We,[t("div",{class:"food-item draggable broom",draggable:"true",onDragstart:e[9]||(e[9]=o=>V(o,"broom"))},[...e[24]||(e[24]=[t("span",{class:"food-emoji"},"ğŸ§¹",-1)])],32),t("div",{class:"food-item draggable medicine",draggable:"true",onDragstart:e[10]||(e[10]=o=>V(o,"medicine"))},[...e[25]||(e[25]=[t("span",{class:"food-emoji"},"ğŸ’Š",-1)])],32)])])]),t("div",Xe,[t("button",{class:"shop-btn",onClick:e[11]||(e[11]=o=>$.value=!0)},"ğŸ›’ Butik"),t("button",{class:"serve-btn",onClick:Y,disabled:R.value},c(R.value?"Tjekker...":"ServÃ©r! ğŸ½ï¸"),9,Ie)])]),$.value?(d(),r("div",{key:0,class:"shop-overlay",onClick:e[13]||(e[13]=G(o=>$.value=!1,["self"]))},[t("div",Qe,[t("div",Ye,[e[27]||(e[27]=t("h2",null,"ğŸ¦ Zoo Butik ğŸ›ï¸",-1)),t("button",{class:"close-shop",onClick:e[12]||(e[12]=o=>$.value=!1)},"âœ•")]),e[28]||(e[28]=t("p",{class:"shop-intro"},"KÃ¸b legetÃ¸j for dine point! Dyrene keder sig hvis de ikke leger.",-1)),t("div",et,[(d(),r(x,null,z(W,o=>t("div",{key:o.id,class:y(["shop-item",{"too-expensive":m.value<o.price}])},[t("div",tt,c(o.icon),1),t("div",ot,c(o.name),1),t("div",st,"â­ "+c(o.price),1),t("button",{class:"buy-btn",onClick:l=>X(o),disabled:m.value<o.price},"KÃ¸b",8,nt)],2)),64))])])])):j("",!0),D.value?(d(),r("div",{key:1,class:y(["feedback-overlay",D.value.type])},[t("div",at,[t("div",lt,c(D.value.emoji),1),t("div",it,c(D.value.message),1)])],2)):j("",!0),B.value?(d(),r("div",rt,[t("div",dt,[e[30]||(e[30]=t("h1",null,"ğŸ‰ Fantastisk Arbejde!",-1)),e[31]||(e[31]=t("p",null,"Du har fodret alle dyrene i dag!",-1)),t("div",ct,[e[29]||(e[29]=t("span",null,"Din Score:",-1)),t("span",null,"â­ "+c(m.value),1)]),t("button",{class:"btn-main-zoo",onClick:te},"Spil Igen ğŸ”„"),t("button",{class:"btn-secondary-zoo",onClick:e[14]||(e[14]=o=>s.$router.push("/"))},"Tilbage til Forsiden ğŸ ")])])):j("",!0)])}}},kt=oe(ut,[["__scopeId","data-v-4dd59d56"]]);export{kt as default};
